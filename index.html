<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stickers as a mood - –º–∞–≥–∞–∑–∏–Ω —Å—Ç–∏–∫–µ—Ä—ñ–≤</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Loading spinner -->
    <div class="spinner" id="loadingSpinner"></div>

    <!-- Image Modal -->
    <div class="image-modal" id="imageModal">
      <div class="image-modal-content">
        <span class="close-image-modal" id="closeImageModal">&times;</span>
        <img id="modalImage" src="" alt="" />
        <div class="image-modal-info">
          <h3 id="modalTitle"></h3>
          <p id="modalDescription"></p>
        </div>
      </div>
    </div>

    <!-- Header with Navigation -->
    <header>
      <div class="container nav-container">
        <a href="#" class="logo">stickers.icon</a>

        <div class="burger" id="burger">
          <i class="fas fa-bars"></i>
        </div>

        <ul class="nav-links" id="navLinks">
          <li><a href="#home" class="active">–ì–æ–ª–æ–≤–Ω–∞</a></li>
          <li><a href="#catalog">–ö–∞—Ç–∞–ª–æ–≥</a></li>
          <li><a href="#why-us">–ü—Ä–æ –Ω–∞—Å</a></li>
          <li><a href="#contacts">–ó–≤'—è–∑–æ–∫</a></li>
          <li class="cart-icon" id="cartIcon">
            <i class="fas fa-shopping-cart"></i>
            <span class="cart-count" id="cartCount">0</span>
          </li>
        </ul>
      </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
  <div class="container">
    <div class="hero-image"></div>
    <div class="hero-content">
      
    </div>
  </div>
</section>

        <!-- Sticker note -->
        <div class="sticker-note" style="top: 30px; right: 30px; display: none">
          <i class="fas fa-heart"></i> —Ä—É—á–Ω–∞ —Ä–æ–±–æ—Ç–∞
        </div>
      </div>
    </section>

    <!-- Catalog Section -->

    <section class="catalog" id="catalog">
      <div class="container">
        <h2 class="section-title">–ù–∞—à—ñ –Ω–∞–±–æ—Ä–∏</h2>

        <div class="products-grid" id="productsGrid">
          <!-- Products will be generated by JavaScript -->
        </div>
      </div>
    </section>

    <!-- Why Us Section -->
    <section class="why-us" id="why-us">
      <div class="container">
        <div class="why-us-content">
          <h2>–ß–æ–º—É –º–∏</h2>
          <p>–º–∏ –ª—é–±–∏–º–æ –∂–∏–≤—ñ —Ñ–æ—Ç–æ, –Ω–µ —ñ–¥–µ–∞–ª—å–Ω—ñ ‚Äî —è–∫ –∂–∏—Ç—Ç—è</p>

          <div class="features">
            <div class="feature">
              <i class="fas fa-print"></i>
              <h3>—â—ñ–ª—å–Ω–∏–π –¥—Ä—É–∫</h3>
              <p>–í–∏—Å–æ–∫–æ—è–∫—ñ—Å–Ω–∏–π –¥—Ä—É–∫</p>
            </div>
            <div class="feature">
              <i class="fas fa-palette"></i>
              <h3>–ü—ñ–¥–±—ñ—Ä –∑–∞ –≤–∞–π–±–æ–º</h3>
              <p>–Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏–π –ø—ñ–¥–±—ñ—Ä —Å—Ç–∏–∫–µ—Ä—ñ–≤ –ø—ñ–¥ –≤–∞—à —Å—Ç–∏–ª—å —Ç–∞ –Ω–∞—Å—Ç—Ä—ñ–π</p>
            </div>
            <div class="feature">
              <i class="fas fa-gift"></i>
              <h3>–ö—Ä–∞—Å–∏–≤–∞ —É–ø–∞–∫–æ–≤–∫–∞</h3>
              <p>–°—Ç–∏–ª—å–Ω–∞ —É–ø–∞–∫–æ–≤–∫–∞, —â–æ —ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –ø–æ–¥–∞—Ä—É–Ω–∫–∞</p>
            </div>
          </div>

          <!-- Instagram link -->
          <div style="margin-top: 50px; text-align: center">
            <a
              href="https://www.instagram.com/stickers.icon/"
              style="
                color: var(--beige-brown);
                text-decoration: none;
                font-weight: 500;
                letter-spacing: 0.5px;
                display: inline-flex;
                align-items: center;
                gap: 8px;
              "
            >
              <i class="fab fa-instagram"></i> @stickers.icon ‚Üí
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Cart Modal -->
    <div class="modal" id="cartModal">
      <div class="modal-content">
        <span class="close-modal" id="closeModal">&times;</span>

        <h2>–ö–æ—à–∏–∫</h2>

        <div class="cart-items" id="cartItems">
          <!-- Cart items will be generated by JavaScript -->
        </div>

        <div class="cart-total">
          –†–∞–∑–æ–º: <span id="cartTotalPrice">0</span> –≥—Ä–Ω
        </div>

        <!-- Checkout Form -->
        <div class="checkout-form">
          <h3>–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h3>
          <form id="checkoutForm">
            <div class="form-row">
              <div class="form-group">
                <label for="fullName">–ü–Ü–ë *</label>
                <input type="text" id="fullName" required />
              </div>
              <div class="form-group">
                <label for="phone">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ *</label>
                <input type="tel" id="phone" required />
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="city">–ú—ñ—Å—Ç–æ *</label>
                <input type="text" id="city" required />
              </div>
              <div class="form-group">
                <label for="novaPoshta">–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è –ù–æ–≤–æ—ó –ü–æ—à—Ç–∏ *</label>
                <input type="text" id="novaPoshta" required />
              </div>
            </div>

            <!-- Telegram notification -->
            <div class="telegram-notification">
              <i class="fab fa-telegram"></i>
              <p>
                –ü—ñ—Å–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–∏–π–¥–µ –≤–ª–∞—Å–Ω–∏–∫—É
                –º–∞–≥–∞–∑–∏–Ω—É —É Telegram
              </p>
            </div>

            <button
              type="submit"
              class="btn btn-secondary"
              style="width: 100%; margin-top: 10px"
            >
              <i class="fas fa-paper-plane"></i> –û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer id="contacts">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <h3>Stickers as a mood</h3>
            <p>–Ω–∞–ª—ñ–ø–∫–∏, —è–∫ –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è —Ç–µ–±–µ</p>
            <p>–ú–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ —Å—Ç—ñ–∫–µ—Ä–∏, —è–∫—ñ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å –≤–∞—à –Ω–∞—Å—Ç—Ä—ñ–π —Ç–∞ —Å—Ç–∏–ª—å.</p>
          </div>

          <div class="footer-section">
            <h3>–ö–æ–Ω—Ç–∞–∫—Ç–∏</h3>
            <p>Email: hello@stickersmood.com</p>
            <p>–¢–µ–ª–µ—Ñ–æ–Ω: +38 (093) 123-45-67</p>
            <p>–ü—Ä–∞—Ü—é—î–º–æ: –ü–Ω-–ü—Ç 10:00-18:00</p>
          </div>

          <div class="footer-section">
            <h3>–ú–∏ –≤ —Å–æ—Ü–º–µ—Ä–µ–∂–∞—Ö</h3>
            <div class="social-icons">
              <a href="#"><i class="fab fa-instagram"></i></a>
              <a href="#"><i class="fab fa-telegram"></i></a>
              <a href="#"><i class="fab fa-pinterest"></i></a>
              <a href="#"><i class="fab fa-tiktok"></i></a>
            </div>
            <p>–ü—ñ–¥–ø–∏—Å—É–π—Ç–µ—Å—å –∑–∞ –Ω–∞—Ç—Ö–Ω–µ–Ω–Ω—è–º</p>
          </div>
        </div>

        <div class="copyright">
          &copy; 2026 Stickers as a mood. –í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ.
        </div>
      </div>
    </footer>

    <script>
      // Telegram Bot Configuration - –í–ê–®–ò –î–ê–ù–ù–´–ï
      const TELEGRAM_BOT_TOKEN =
        "8361096841:AAHaQrpfug11rfPVMfiP_eeyOHJtqKkrlkU";
      const TELEGRAM_CHAT_ID = "505754972";

      // Product data with images matching the beige aesthetic
      const products = [
        {
          id: 1,
          name: "Chic",
          description: "10-15 —Å—Ç–∏–∫–µ—Ä—ñ–≤ ‚Ä¢ premium print",
          price: 250,
          count: "10-15 —Å—Ç–∏–∫–µ—Ä—ñ–≤",
          finish: "style",
          print: "premium print",
          image: "/stickers_images/newyork.jpg",
        },
        {
          id: 2,
          name: "Chic",
          description: "10-15 —Å—Ç–∏–∫–µ—Ä—ñ–≤ ‚Ä¢ premium print",
          price: 250,
          count: "10-15 —Å—Ç–∏–∫–µ—Ä—ñ–≤",
          finish: "style",
          print: "premium print",
          image: "/stickers_images/newyork.jpg",
        },
        {
          id: 3,
          name: "Chic",
          description: "10-15 —Å—Ç–∏–∫–µ—Ä—ñ–≤ ‚Ä¢ premium print",
          price: 250,
          count: "10-15 —Å—Ç–∏–∫–µ—Ä—ñ–≤",
          finish: "style",
          print: "premium print",
          image: "/stickers_images/newyork.jpg",
        },
        {
          id: 4,
          name: "Chic",
          description: "10-15 —Å—Ç–∏–∫–µ—Ä—ñ–≤ ‚Ä¢ premium print",
          price: 250,
          count: "10-15 —Å—Ç–∏–∫–µ—Ä—ñ–≤",
          finish: "style",
          print: "premium print",
          image: "/stickers_images/newyork.jpg",
        },
        {
          id: 5,
          name: "Chic",
          description: "10-15 —Å—Ç–∏–∫–µ—Ä—ñ–≤ ‚Ä¢ premium print",
          price: 250,
          count: "10-15 —Å—Ç–∏–∫–µ—Ä—ñ–≤",
          finish: "style",
          print: "premium print",
          image: "/stickers_images/newyork.jpg",
        },
        {
          id: 6,
          name: "Chic",
          description: "10-15 —Å—Ç–∏–∫–µ—Ä—ñ–≤ ‚Ä¢ premium print",
          price: 250,
          count: "10-15 —Å—Ç–∏–∫–µ—Ä—ñ–≤",
          finish: "style",
          print: "premium print",
          image: "/stickers_images/newyork.jpg",
        },
        {
          id: 7,
          name: "Chic",
          description: "10-15 —Å—Ç–∏–∫–µ—Ä—ñ–≤ ‚Ä¢ premium print",
          price: 250,
          count: "10-15 —Å—Ç–∏–∫–µ—Ä—ñ–≤",
          finish: "style",
          print: "premium print",
          image: "/stickers_images/newyork.jpg",
        },
        {
          id: 8,
          name: "Chic",
          description: "10-15 —Å—Ç–∏–∫–µ—Ä—ñ–≤ ‚Ä¢ premium print",
          price: 250,
          count: "10-15 —Å—Ç–∏–∫–µ—Ä—ñ–≤",
          finish: "style",
          print: "premium print",
          image: "/stickers_images/newyork.jpg",
        },
      ];

      // Fallback images in beige aesthetic
      const fallbackImages = [
        "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='400' viewBox='0 0 600 400'%3E%3Crect width='600' height='400' fill='%23F5F1EA'/%3E%3Ctext x='300' y='200' font-family='Arial' font-size='36' fill='%236D5D4B' text-anchor='middle' dy='.3em'%3EChic%3C/text%3E%3Crect x='200' y='220' width='200' height='2' fill='%23A68A64'/%3E%3C/svg%3E",
        "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='400' viewBox='0 0 600 400'%3E%3Crect width='600' height='400' fill='%23E8DFD5'/%3E%3Ctext x='300' y='200' font-family='Arial' font-size='36' fill='%236D5D4B' text-anchor='middle' dy='.3em'%3ENew York%3C/text%3E%3Crect x='200' y='220' width='200' height='2' fill='%23A68A64'/%3E%3C/svg%3E",
        "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='400' viewBox='0 0 600 400'%3E%3Crect width='600' height='400' fill='%23D3C8B5'/%3E%3Ctext x='300' y='200' font-family='Arial' font-size='36' fill='%236D5D4B' text-anchor='middle' dy='.3em'%3EAutumn Coffee%3C/text%3E%3Crect x='200' y='220' width='200' height='2' fill='%23A68A64'/%3E%3C/svg%3E",
        "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='400' viewBox='0 0 600 400'%3E%3Crect width='600' height='400' fill='%23F5F1EA'/%3E%3Ctext x='300' y='200' font-family='Arial' font-size='36' fill='%236D5D4B' text-anchor='middle' dy='.3em'%3EMinimal%3C/text%3E%3Crect x='200' y='220' width='200' height='2' fill='%23A68A64'/%3E%3C/svg%3E",
        "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='400' viewBox='0 0 600 400'%3E%3Crect width='600' height='400' fill='%23E8DFD5'/%3E%3Ctext x='300' y='200' font-family='Arial' font-size='36' fill='%236D5D4B' text-anchor='middle' dy='.3em'%3EBotanical%3C/text%3E%3Crect x='200' y='220' width='200' height='2' fill='%23A68A64'/%3E%3C/svg%3E",
        "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='400' viewBox='0 0 600 400'%3E%3Crect width='600' height='400' fill='%23D3C8B5'/%3E%3Ctext x='300' y='200' font-family='Arial' font-size='36' fill='%236D5D4B' text-anchor='middle' dy='.3em'%3EVintage%3C/text%3E%3Crect x='200' y='220' width='200' height='2' fill='%23A68A64'/%3E%3C/svg%3E",
      ];

      // Cart data
      let cart = [];
      let cartCount = 0;
      let cartTotalPrice = 0;

      // DOM Elements
      const burger = document.getElementById("burger");
      const navLinks = document.getElementById("navLinks");
      const cartIcon = document.getElementById("cartIcon");
      const cartCountEl = document.getElementById("cartCount");
      const cartModal = document.getElementById("cartModal");
      const closeModal = document.getElementById("closeModal");
      const productsGrid = document.getElementById("productsGrid");
      const cartItems = document.getElementById("cartItems");
      const cartTotalPriceEl = document.getElementById("cartTotalPrice");
      const checkoutForm = document.getElementById("checkoutForm");
      const imageModal = document.getElementById("imageModal");
      const closeImageModal = document.getElementById("closeImageModal");
      const modalImage = document.getElementById("modalImage");
      const modalTitle = document.getElementById("modalTitle");
      const modalDescription = document.getElementById("modalDescription");
      const loadingSpinner = document.getElementById("loadingSpinner");

      // Initialize the page
      document.addEventListener("DOMContentLoaded", function () {
        renderProducts();
        updateCartCount();

        // Load cart from localStorage if exists
        const savedCart = localStorage.getItem("stickersCart");
        if (savedCart) {
          cart = JSON.parse(savedCart);
          updateCartCount();
        }

        // Add sticker notes randomly
        addStickerNotes();

        // Check Telegram configuration
        checkTelegramConfig();
      });

      // Check Telegram configuration
      function checkTelegramConfig() {
        if (
          !TELEGRAM_BOT_TOKEN ||
          !TELEGRAM_CHAT_ID ||
          TELEGRAM_BOT_TOKEN.includes("–í–ê–®_–¢–û–ö–ï–ù") ||
          TELEGRAM_CHAT_ID.includes("–í–ê–®_CHAT_ID")
        ) {
          console.warn(
            "‚ö†Ô∏è Telegram –±–æ—Ç –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω. –ó–∞–∫–∞–∑—ã –Ω–µ –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –≤ Telegram.",
          );
          console.log(
            "‚ÑπÔ∏è –í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à TELEGRAM_BOT_TOKEN –∏ TELEGRAM_CHAT_ID –≤ –∫–æ–¥ JavaScript",
          );
        } else {
          console.log(
            "‚úÖ Telegram –±–æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω. –ó–∞–∫–∞–∑—ã –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –≤ –≤–∞—à Telegram.",
          );
        }
      }

      // Add decorative sticker notes
      function addStickerNotes() {
        const notes = [
          { text: "handmade", icon: "fas fa-heart" },
          { text: "style", icon: "fas fa-star" },
          { text: "for you", icon: "fas fa-check" },
        ];

        notes.forEach((note) => {
          const noteEl = document.createElement("div");
          noteEl.className = "sticker-note";
          noteEl.style.cssText = `
                    position: fixed;
                    ${note.top ? `top: ${note.top};` : ""}
                    ${note.bottom ? `bottom: ${note.bottom};` : ""}
                    ${note.left ? `left: ${note.left};` : ""}
                    ${note.right ? `right: ${note.right};` : ""}
                    transform: rotate(${Math.random() * 6 - 3}deg);
                    z-index: 99;
                    opacity: 0;
                    transition: opacity 1s;
                `;
          noteEl.innerHTML = `<i class="${note.icon}"></i> ${note.text}`;
          document.body.appendChild(noteEl);

          // Fade in after a delay
          setTimeout(() => {
            noteEl.style.opacity = "0.8";
          }, 500);
        });
      }

      // Render products to the catalog
      function renderProducts() {
        productsGrid.innerHTML = "";

        products.forEach((product, index) => {
          const productCard = document.createElement("div");
          productCard.className = "product-card";
          productCard.innerHTML = `
                    <div class="product-image" data-id="${product.id}">
                        <img src="${product.image}" alt="${product.name}" 
                             onerror="this.src='${fallbackImages[index]}'; this.onerror=null;">
                        <div class="zoom-icon">
                            <i class="fas fa-search-plus"></i>
                        </div>
                        <div class="product-badge">${product.print}</div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">${product.name}</h3>
                        <p class="product-description">${product.description}</p>
                        <div class="product-meta">
                            <span>${product.count}</span>
                            <span>${product.finish}</span>
                        </div>
                        <div class="product-price">${product.price} –≥—Ä–Ω</div>
                        <button class="add-to-cart" data-id="${product.id}">
                            <i class="fas fa-cart-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
                        </button>
                    </div>
                `;

          productsGrid.appendChild(productCard);
        });

        // Add event listeners to "Add to cart" buttons
        document.querySelectorAll(".add-to-cart").forEach((button) => {
          button.addEventListener("click", function () {
            const productId = parseInt(this.getAttribute("data-id"));
            addToCart(productId);
          });
        });

        // Add event listeners to product images for zoom
        document.querySelectorAll(".product-image").forEach((image) => {
          image.addEventListener("click", function () {
            const productId = parseInt(this.getAttribute("data-id"));
            openImageModal(productId);
          });
        });
      }

      // Open image modal
      function openImageModal(productId) {
        const product = products.find((p) => p.id === productId);
        if (!product) return;

        modalImage.src = product.image;
        modalImage.onerror = function () {
          this.src = fallbackImages[productId - 1];
        };
        modalTitle.textContent = product.name;
        modalDescription.textContent = product.description;

        imageModal.style.display = "block";
        document.body.style.overflow = "hidden";
      }

      // Close image modal
      closeImageModal.addEventListener("click", function () {
        imageModal.style.display = "none";
        document.body.style.overflow = "auto";
      });

      // Close image modal when clicking outside
      imageModal.addEventListener("click", function (event) {
        if (event.target === imageModal) {
          imageModal.style.display = "none";
          document.body.style.overflow = "auto";
        }
      });

      // Add product to cart
      function addToCart(productId) {
        const product = products.find((p) => p.id === productId);

        // Check if product already in cart
        const existingItem = cart.find((item) => item.id === productId);

        if (existingItem) {
          existingItem.quantity += 1;
        } else {
          cart.push({
            id: product.id,
            name: product.name,
            price: product.price,
            image: product.image,
            fallbackImage: fallbackImages[productId - 1],
            quantity: 1,
          });
        }

        updateCartCount();
        saveCartToStorage();

        // Show cart animation
        animateCartIcon();

        // Show notification
        showNotification(`${product.name} –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É!`);
      }

      // Animate cart icon
      function animateCartIcon() {
        const cartIcon = document.querySelector(".cart-icon i");
        cartIcon.style.transform = "scale(1.3)";
        cartIcon.style.color = "var(--beige-brown)";

        setTimeout(() => {
          cartIcon.style.transform = "scale(1)";
          setTimeout(() => {
            cartIcon.style.color = "";
          }, 300);
        }, 300);
      }

      // Show notification
      function showNotification(message) {
        // Create notification element
        const notification = document.createElement("div");
        notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background-color: var(--dark-brown);
                color: var(--beige-light);
                padding: 15px 25px;
                border-radius: 1px;
                box-shadow: 0 5px 20px rgba(109, 93, 75, 0.2);
                z-index: 1001;
                font-weight: 500;
                animation: slideIn 0.4s ease-out;
                max-width: 300px;
                border: 1px solid var(--beige-brown);
                letter-spacing: 0.3px;
            `;

        notification.innerHTML = `
                <i class="fas fa-check-circle" style="margin-right: 8px;"></i> ${message}
            `;
        document.body.appendChild(notification);

        // Add animation style
        const style = document.createElement("style");
        style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                @keyframes slideOut {
                    from { transform: translateX(0); opacity: 1; }
                    to { transform: translateX(100%); opacity: 0; }
                }
            `;
        document.head.appendChild(style);

        // Remove notification after 3 seconds
        setTimeout(() => {
          notification.style.animation = "slideOut 0.4s ease-out";
          setTimeout(() => {
            if (notification.parentNode) {
              document.body.removeChild(notification);
            }
            if (style.parentNode) {
              document.head.removeChild(style);
            }
          }, 400);
        }, 3000);
      }

      // Update cart count in header
      function updateCartCount() {
        cartCount = cart.reduce((total, item) => total + item.quantity, 0);
        cartCountEl.textContent = cartCount;

        // Update total price
        cartTotalPrice = cart.reduce(
          (total, item) => total + item.price * item.quantity,
          0,
        );
        cartTotalPriceEl.textContent = cartTotalPrice;
      }

      // Render cart items in modal
      function renderCartItems() {
        cartItems.innerHTML = "";

        if (cart.length === 0) {
          cartItems.innerHTML = `
                    <div class="empty-cart">
                        <i class="fas fa-shopping-cart"></i>
                        <h3>–í–∞—à –∫–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π</h3>
                        <p>–î–æ–¥–∞–π—Ç–µ —Ç–æ–≤–∞—Ä–∏ –∑ –∫–∞—Ç–∞–ª–æ–≥—É</p>
                    </div>
                `;
          return;
        }

        cart.forEach((item) => {
          const cartItem = document.createElement("div");
          cartItem.className = "cart-item";
          cartItem.innerHTML = `
                    <div class="cart-item-image" data-id="${item.id}">
                        <img src="${item.image}" alt="${item.name}"
                             onerror="this.src='${item.fallbackImage}'; this.onerror=null;">
                    </div>
                    <div class="cart-item-info">
                        <h4>${item.name}</h4>
                        <div class="cart-item-price">${item.price} –≥—Ä–Ω √ó ${item.quantity} = ${item.price * item.quantity} –≥—Ä–Ω</div>
                    </div>
                    <div class="cart-item-actions">
                        <button class="quantity-btn decrease-btn" data-id="${item.id}" title="–£–º–µ–Ω—å—à–∏—Ç—å">
                            <i class="fas fa-minus"></i>
                        </button>
                        <span style="min-width: 30px; text-align: center; color: var(--dark-brown);">${item.quantity}</span>
                        <button class="quantity-btn increase-btn" data-id="${item.id}" title="–£–≤–µ–ª–∏—á–∏—Ç—å">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button class="quantity-btn remove-btn" data-id="${item.id}" title="–£–¥–∞–ª–∏—Ç—å">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;

          cartItems.appendChild(cartItem);
        });

        // Add event listeners to cart buttons
        document.querySelectorAll(".decrease-btn").forEach((button) => {
          button.addEventListener("click", function () {
            const productId = parseInt(this.getAttribute("data-id"));
            updateCartItemQuantity(productId, -1);
          });
        });

        document.querySelectorAll(".increase-btn").forEach((button) => {
          button.addEventListener("click", function () {
            const productId = parseInt(this.getAttribute("data-id"));
            updateCartItemQuantity(productId, 1);
          });
        });

        document.querySelectorAll(".remove-btn").forEach((button) => {
          button.addEventListener("click", function () {
            const productId = parseInt(this.getAttribute("data-id"));
            removeFromCart(productId);
          });
        });

        // Add event listeners to cart item images for zoom
        document.querySelectorAll(".cart-item-image").forEach((image) => {
          image.addEventListener("click", function () {
            const productId = parseInt(this.getAttribute("data-id"));
            openImageModal(productId);
          });
        });
      }

      // Update item quantity in cart
      function updateCartItemQuantity(productId, change) {
        const itemIndex = cart.findIndex((item) => item.id === productId);

        if (itemIndex !== -1) {
          cart[itemIndex].quantity += change;

          // Remove item if quantity is 0 or less
          if (cart[itemIndex].quantity <= 0) {
            cart.splice(itemIndex, 1);
            showNotification("–¢–æ–≤–∞—Ä —É–¥–∞–ª–µ–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã");
          }

          updateCartCount();
          renderCartItems();
          saveCartToStorage();
        }
      }

      // Remove item from cart
      function removeFromCart(productId) {
        const productName = cart.find((item) => item.id === productId)?.name;
        cart = cart.filter((item) => item.id !== productId);
        updateCartCount();
        renderCartItems();
        saveCartToStorage();

        if (productName) {
          showNotification(`${productName} —É–¥–∞–ª–µ–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã`);
        }
      }

      // Save cart to localStorage
      function saveCartToStorage() {
        localStorage.setItem("stickersCart", JSON.stringify(cart));
      }

      // Send order to Telegram (–≤ –≤–∞—à –±–æ—Ç)
      async function sendOrderToTelegram(orderData) {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram
        if (
          !TELEGRAM_BOT_TOKEN ||
          !TELEGRAM_CHAT_ID ||
          TELEGRAM_BOT_TOKEN.includes("–í–ê–®_–¢–û–ö–ï–ù") ||
          TELEGRAM_CHAT_ID.includes("–í–ê–®_CHAT_ID")
        ) {
          console.error(
            "‚ùå Telegram –±–æ—Ç –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ TELEGRAM_BOT_TOKEN –∏ TELEGRAM_CHAT_ID",
          );
          console.log(
            "–í–∞—à —Ç–æ–∫–µ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—Å—Ç–∞–≤–ª–µ–Ω –≤ –∫–æ–¥ JavaScript (—Å—Ç—Ä–æ–∫–∞ 817)",
          );
          return false;
        }

        // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è Telegram
        const message = `
üõí *–ù–û–í–ï –ó–ê–ú–û–í–õ–ï–ù–ù–Ø –í STICKERS.ICON!*

üìã *–î–µ—Ç–∞–ª—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:*
üÜî –ù–æ–º–µ—Ä: #${orderData.orderId}
üìÖ –î–∞—Ç–∞: ${orderData.date}

üë§ *–î–∞–Ω—ñ –∫–ª—ñ—î–Ω—Ç–∞:*
‚Ä¢ –ü–Ü–ë: ${orderData.fullName}
‚Ä¢ –¢–µ–ª–µ—Ñ–æ–Ω: ${orderData.phone}
‚Ä¢ –º–Ü–°–¢–û: ${orderData.city}
‚Ä¢ –ù–æ–≤–∞ –ø–æ—à—Ç–∞: ${orderData.novaPoshta}

üì¶ *–°–∫–ª–∞–¥ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:*
${orderData.items.map((item) => `‚Ä¢ ${item.name} - ${item.quantity} —à—Ç. √ó ${item.price} –≥—Ä–Ω = ${item.price * item.quantity} –≥—Ä–Ω`).join("\n")}

üí∞ *–°—É–º–∞:* ${orderData.total} –≥—Ä–Ω

üïí *–ß–∞—Å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:* ${new Date().toLocaleTimeString("ru-RU")}
            `;

        try {
          const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
          const response = await fetch(url, {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify({
              chat_id: TELEGRAM_CHAT_ID,
              text: message,
              parse_mode: "Markdown",
              disable_web_page_preview: true,
            }),
          });

          const result = await response.json();

          if (result.ok) {
            console.log("‚úÖ –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–æ –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ —É –≤–∞—à Telegram!");
            console.log("–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ –≤ —á–∞—Ç ID:", TELEGRAM_CHAT_ID);
            return true;
          } else {
            console.error(
              "‚ùå –ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –¥–æ Telegram:",
              result.description,
            );

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Ä–æ–±–Ω—É—é –æ—à–∏–±–∫—É –≤ –∫–æ–Ω—Å–æ–ª–∏
            if (result.error_code === 400) {
              console.error("–í–æ–∑–º–æ–∂–Ω–æ, –Ω–µ–≤–µ—Ä–Ω—ã–π chat_id –∏–ª–∏ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞");
            } else if (result.error_code === 403) {
              console.error("–ë–æ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –≤ —ç—Ç–æ–º —á–∞—Ç–µ");
            } else if (result.error_code === 404) {
              console.error("–ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω –±–æ—Ç–∞");
            }

            return false;
          }
        } catch (error) {
          console.error("‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –≤ Telegram:", error);
          return false;
        }
      }

      // Toggle burger menu
      burger.addEventListener("click", function () {
        navLinks.classList.toggle("active");
        burger.innerHTML = navLinks.classList.contains("active")
          ? '<i class="fas fa-times"></i>'
          : '<i class="fas fa-bars"></i>';
      });

      // Close burger menu when clicking on a link
      document.querySelectorAll(".nav-links a").forEach((link) => {
        link.addEventListener("click", function () {
          navLinks.classList.remove("active");
          burger.innerHTML = '<i class="fas fa-bars"></i>';
        });
      });

      // Open cart modal
      cartIcon.addEventListener("click", function () {
        renderCartItems();
        cartModal.style.display = "block";
        document.body.style.overflow = "hidden";
      });

      // Close cart modal
      closeModal.addEventListener("click", function () {
        cartModal.style.display = "none";
        document.body.style.overflow = "auto";
      });

      // Close modal when clicking outside
      window.addEventListener("click", function (event) {
        if (event.target === cartModal) {
          cartModal.style.display = "none";
          document.body.style.overflow = "auto";
        }
      });

      // Handle checkout form submission
      checkoutForm.addEventListener("submit", async function (e) {
        e.preventDefault();

        // Get form values
        const fullName = document.getElementById("fullName").value;
        const phone = document.getElementById("phone").value;
        const city = document.getElementById("city").value;
        const novaPoshta = document.getElementById("novaPoshta").value;

        // Validate cart
        if (cart.length === 0) {
          showNotification("–í–∞—à –∫–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π!");
          return;
        }

        // Validate form
        if (!fullName || !phone || !city || !novaPoshta) {
          showNotification("–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å —É—Å—ñ –ø–æ–ª—è —Ñ–æ—Ä–º–∏");
          return;
        }

        // Show loading spinner
        loadingSpinner.style.display = "block";

        // Prepare order data
        const orderData = {
          orderId: "ORD" + Date.now().toString().slice(-6),
          fullName,
          phone,
          city,
          novaPoshta,
          items: cart.map((item) => ({
            name: item.name,
            quantity: item.quantity,
            price: item.price,
          })),
          total: cartTotalPrice,
          date: new Date().toLocaleString("ru-RU"),
        };

        try {
          // Send order to Telegram (–≤–∞—à –±–æ—Ç)
          const telegramSent = await sendOrderToTelegram(orderData);

          // Hide loading spinner
          loadingSpinner.style.display = "none";

          // Prepare success message
          let telegramStatus = "";
          if (telegramSent) {
            telegramStatus = `
                        <div style="background-color: rgba(52, 168, 83, 0.1); padding: 10px 15px; border-radius: 2px; margin: 15px 0; border-left: 3px solid #34A853;">
                            
                        </div>
                    `;
          } else {
            telegramStatus = `
                        <div style="background-color: rgba(234, 67, 53, 0.1); padding: 10px 15px; border-radius: 2px; margin: 15px 0; border-left: 3px solid #EA4335;">
                            
                            </p>
                        </div>
                    `;
          }

          // Show success modal
          const successModal = document.createElement("div");
          successModal.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background-color: rgba(74, 64, 53, 0.95);
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    z-index: 1002;
                    animation: fadeIn 0.3s;
                `;

          successModal.innerHTML = `
                    <div style="background: var(--beige-light); padding: 40px; border-radius: 1px; max-width: 500px; width: 90%; border: 1px solid var(--beige-dark);">
                        <h2 style="color: var(--dark-brown); margin-bottom: 20px; font-weight: 300; text-align: center;">
                            <i class="fas fa-check-circle" style="color: var(--beige-brown); margin-right: 10px;"></i>
                            –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–µ!
                        </h2>
                        
                        <div style="background: white; padding: 20px; margin-bottom: 20px; border: 1px solid var(--beige-medium);">
                            <p style="color: var(--text-dark); margin-bottom: 8px;"><strong>–ù–æ–º–µ—Ä –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:</strong> ${orderData.orderId}</p>
                            <p style="color: var(--text-dark); margin-bottom: 8px;"><strong>–Ü–º'—è:</strong> ${fullName}</p>
                            <p style="color: var(--text-dark); margin-bottom: 8px;"><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> ${phone}</p>
                            <p style="color: var(--text-dark); margin-bottom: 8px;"><strong>–ú—ñ—Å—Ç–æ:</strong> ${city}</p>
                            <p style="color: var(--text-dark); margin-bottom: 15px;"><strong>–ù–æ–≤–∞ –ø–æ—à—Ç–∞:</strong> ${novaPoshta}</p>
                            
                            <hr style="border: none; border-top: 1px solid var(--beige-medium); margin: 15px 0;">
                            
                            <p style="color: var(--text-dark); margin-bottom: 10px; font-weight: 500;">–°–∫–ª–∞–¥ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:</p>
                            ${orderData.items
                              .map(
                                (item) => `
                                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                    <span style="color: var(--text-dark);">${item.name} (${item.quantity} —à—Ç.)</span>
                                    <span style="color: var(--accent-color); font-weight: 500;">${item.price * item.quantity} –≥—Ä–Ω</span>
                                </div>
                            `,
                              )
                              .join("")}
                            
                            <hr style="border: none; border-top: 1px solid var(--beige-medium); margin: 15px 0;">
                            
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
                                <span style="color: var(--text-dark); font-weight: 500;">–†–∞–∑–æ–º:</span>
                                <span style="color: var(--accent-color); font-size: 1.3rem; font-weight: 600;">${orderData.total} –≥—Ä–Ω</span>
                            </div>
                        </div>
                        
                        ${telegramStatus}
                        
                        <p style="color: var(--text-light); text-align: center; font-size: 0.9rem; margin: 20px 0;">
                            –ú–∏ –∑–≤'—è–∂–µ–º–æ—Å—è –∑ –≤–∞–º–∏ –Ω–∞–π–±–ª–∏–∂—á–∏–º —á–∞—Å–æ–º –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.
                        </p>
                        
                        <button id="closeSuccessModal" class="btn" style="width: 100%;">
                            <i class="fas fa-check"></i> –ó—Ä–æ–∑—É–º—ñ–ª–æ, –¥—è–∫—É—é!
                        </button>
                    </div>
                `;

          document.body.appendChild(successModal);

          // Add fadeIn animation
          const style = document.createElement("style");
          style.textContent = `
                    @keyframes fadeIn {
                        from { opacity: 0; }
                        to { opacity: 1; }
                    }
                `;
          document.head.appendChild(style);

          // Close success modal
          document
            .getElementById("closeSuccessModal")
            .addEventListener("click", function () {
              document.body.removeChild(successModal);
              document.head.removeChild(style);

              // Clear cart and close modal
              cart = [];
              updateCartCount();
              saveCartToStorage();
              cartModal.style.display = "none";
              document.body.style.overflow = "auto";
              checkoutForm.reset();
            });
        } catch (error) {
          // Hide loading spinner
          loadingSpinner.style.display = "none";

          // Show error message
          showNotification("–ü–æ–º–∏–ª–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.");
          console.error("–ü–æ–º–∏–ª–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:", error);
        }
      });

      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();

          const targetId = this.getAttribute("href");
          if (targetId === "#") return;

          const targetElement = document.querySelector(targetId);
          if (targetElement) {
            window.scrollTo({
              top: targetElement.offsetTop - 80,
              behavior: "smooth",
            });
          }
        });
      });

      // Handle image loading errors
      window.addEventListener(
        "error",
        function (e) {
          if (e.target.tagName === "IMG") {
            const img = e.target;
            const productId = parseInt(img.getAttribute("data-id"));
            if (productId && fallbackImages[productId - 1]) {
              img.src = fallbackImages[productId - 1];
            }
          }
        },
        true,
      );

      // Close modals with Escape key
      document.addEventListener("keydown", function (e) {
        if (e.key === "Escape") {
          if (imageModal.style.display === "block") {
            imageModal.style.display = "none";
            document.body.style.overflow = "auto";
          }
          if (cartModal.style.display === "block") {
            cartModal.style.display = "none";
            document.body.style.overflow = "auto";
          }
        }
      });
    </script>
  </body>
</html>
